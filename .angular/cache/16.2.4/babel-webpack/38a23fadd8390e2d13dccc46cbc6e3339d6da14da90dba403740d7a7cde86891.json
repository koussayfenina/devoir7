{"ast":null,"code":"import { Produit } from '../model/produit.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/produit.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction UpdateProduitComponent_option_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cat_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cat_r1.idCat);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cat_r1.nomCat, \" \");\n  }\n}\nexport class UpdateProduitComponent {\n  constructor(activatedRoute, router, produitService) {\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.produitService = produitService;\n    this.currentProduit = new Produit();\n  }\n  ngOnInit() {\n    this.produitService.listeCategories().subscribe(cats => {\n      this.categories = cats;\n      console.log(cats);\n    });\n    this.produitService.consulterProduit(this.activatedRoute.snapshot.params['id']).subscribe(prod => {\n      this.currentProduit = prod;\n      this.updatedCatId = this.currentProduit.categorie.idCat;\n    });\n  }\n  updateProduit() {\n    this.currentProduit.categorie = this.categories.find(cat => cat.idCat == this.updatedCatId);\n    this.produitService.updateProduit(this.currentProduit).subscribe(prod => {\n      this.router.navigate(['produits']);\n    });\n  }\n  static #_ = this.ɵfac = function UpdateProduitComponent_Factory(t) {\n    return new (t || UpdateProduitComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProduitService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UpdateProduitComponent,\n    selectors: [[\"app-update-produit\"]],\n    decls: 30,\n    vars: 9,\n    consts: [[1, \"container\"], [1, \"col-sm-2\", \"col-md-2\", \"col-lg-2\"], [\"readonly\", \"\", \"type\", \"text\", \"name\", \"idProduit\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-sm-4\", \"col-md-4\", \"col-lg-4\"], [\"type\", \"text\", \"name\", \"nomProduit\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"prixProduit\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"dateCreation\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"idCat\", \"name\", \"idCat\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"click\"], [3, \"value\"]],\n    template: function UpdateProduitComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\")(2, \"h2\");\n        i0.ɵɵtext(3, \"Modifier un Produit :\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"form\")(5, \"div\", 1)(6, \"label\");\n        i0.ɵɵtext(7, \"ID Produit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function UpdateProduitComponent_Template_input_ngModelChange_8_listener($event) {\n          return ctx.currentProduit.idProduit = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\");\n        i0.ɵɵtext(11, \"Nom Produit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function UpdateProduitComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.currentProduit.nomProduit = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"div\", 1)(14, \"label\");\n        i0.ɵɵtext(15, \"Prix Produit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function UpdateProduitComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.currentProduit.prixProduit = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\", 3)(18, \"label\");\n        i0.ɵɵtext(19, \"Date cr\\u00E9ation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function UpdateProduitComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.currentProduit.dateCreation = $event;\n        });\n        i0.ɵɵpipe(21, \"date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\", 3)(23, \"label\");\n        i0.ɵɵtext(24, \"Categorie\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"select\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function UpdateProduitComponent_Template_select_ngModelChange_25_listener($event) {\n          return ctx.updatedCatId = $event;\n        });\n        i0.ɵɵtemplate(26, UpdateProduitComponent_option_26_Template, 2, 2, \"option\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 9)(28, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function UpdateProduitComponent_Template_button_click_28_listener() {\n          return ctx.updateProduit();\n        });\n        i0.ɵɵtext(29, \"Modifer\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.currentProduit.idProduit);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.currentProduit.nomProduit);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.currentProduit.prixProduit);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", i0.ɵɵpipeBind2(21, 6, ctx.currentProduit.dateCreation, \"yyyy-MM-dd\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.updatedCatId);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm, i3.DatePipe],\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["Produit","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","cat_r1","idCat","ɵɵadvance","ɵɵtextInterpolate1","nomCat","UpdateProduitComponent","constructor","activatedRoute","router","produitService","currentProduit","ngOnInit","listeCategories","subscribe","cats","categories","console","log","consulterProduit","snapshot","params","prod","updatedCatId","categorie","updateProduit","find","cat","navigate","_","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","ProduitService","_2","selectors","decls","vars","consts","template","UpdateProduitComponent_Template","rf","ctx","ɵɵlistener","UpdateProduitComponent_Template_input_ngModelChange_8_listener","$event","idProduit","UpdateProduitComponent_Template_input_ngModelChange_12_listener","nomProduit","UpdateProduitComponent_Template_input_ngModelChange_16_listener","prixProduit","UpdateProduitComponent_Template_input_ngModelChange_20_listener","dateCreation","UpdateProduitComponent_Template_select_ngModelChange_25_listener","ɵɵtemplate","UpdateProduitComponent_option_26_Template","UpdateProduitComponent_Template_button_click_28_listener","ɵɵpipeBind2"],"sources":["C:\\Users\\betech.tn\\Desktop\\dsi\\angular\\MesProduits\\src\\app\\update-produit\\update-produit.component.ts","C:\\Users\\betech.tn\\Desktop\\dsi\\angular\\MesProduits\\src\\app\\update-produit\\update-produit.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ProduitService } from '../services/produit.service';\nimport { ActivatedRoute,Router } from '@angular/router';\nimport { Produit } from '../model/produit.model';\nimport { Categorie } from '../model/categorie.model';\n\n@Component({\n  selector: 'app-update-produit',\n  templateUrl: './update-produit.component.html',\n  styleUrls: []\n})\nexport class UpdateProduitComponent {\n\n  currentProduit = new Produit();\n  categories! : Categorie[];\n  updatedCatId! : number;\n\n\n  constructor(private activatedRoute: ActivatedRoute,\n    private router :Router,\n    private produitService: ProduitService) { }\n\n\n    ngOnInit() {\n\n      this.produitService.listeCategories().subscribe(cats => {this.categories = cats;\nconsole.log(cats);\n});\nthis.produitService.consulterProduit(this.activatedRoute.snapshot.params['id']).\nsubscribe( prod =>{ this.currentProduit = prod;\nthis.updatedCatId =\nthis.currentProduit.categorie.idCat;\n} );\n    }\n\n      updateProduit()\n      { \n        this.currentProduit.categorie = this.categories.find(cat => cat.idCat == this.updatedCatId)!;\n        this.produitService.updateProduit(this.currentProduit).subscribe(prod => {\n          this.router.navigate(['produits']); }\n          );\n      }\n}\n","<div class=\"container\">\n    <div>\n        <h2>Modifier un Produit :</h2>\n    </div>\n    <form >\n        <div class=\"col-sm-2 col-md-2 col-lg-2\">\n            <label >ID Produit</label>\n            <input readonly type=\"text\" [(ngModel)]=\"currentProduit.idProduit\" name=\"idProduit\" class=\"form-control\">\n        </div>\n        <div class=\"col-sm-4 col-md-4 col-lg-4\" >\n            <label >Nom Produit</label>\n            <input type=\"text\"[(ngModel)]= \"currentProduit.nomProduit\" name=\"nomProduit\" class=\"form-control\">\n        </div>\n        <div class=\"col-sm-2 col-md-2 col-lg-2\">\n            <label >Prix Produit</label>\n            <input type=\"number\" [(ngModel)]= \"currentProduit.prixProduit\" name=\"prixProduit\" class=\"form-control\">\n        </div>\n        <div class=\"col-sm-4 col-md-4 col-lg-4\">\n            <label >Date création</label>\n            <input type=\"date\" [ngModel]=\"currentProduit.dateCreation | date: 'yyyy-MM-dd'\" (ngModelChange)=\" currentProduit.dateCreation= $event\" name=\"dateCreation\" class=\"form-control\">\n        </div>\n\n        <div class=\"col-sm-4 col-md-4 col-lg-4\">\n            <label>Categorie</label>\n            <select class=\"form-control form-control-lg\" id=\"idCat\" name=\"idCat\" [(ngModel)]=\"updatedCatId\">\n                <option *ngFor=\"let cat of categories\" [value]=\"cat.idCat\">\n                    {{cat.nomCat}}\n                </option>\n            </select>\n        </div>\n\n        <div class=\"mt-2\">\n            <button type=\"submit\" (click)=\"updateProduit()\" class=\"btn btn-success\">Modifer</button>\n        </div>\n    </form>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}