{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class ProduitService {\n  constructor() {\n    this.categories = [{\n      idCat: 1,\n      nomCat: \"PC\"\n    }, {\n      idCat: 2,\n      nomCat: \"Imprimante\"\n    }];\n    this.produits = [{\n      idProduit: 1,\n      nomProduit: \"PC Asus\",\n      prixProduit: 3000.600,\n      dateCreation: new Date(\"01/14/2011\"),\n      categorie: {\n        idCat: 1,\n        nomCat: \"PC\"\n      }\n    }, {\n      idProduit: 2,\n      nomProduit: \"Imprimante Epson\",\n      prixProduit: 450,\n      dateCreation: new Date(\"12/17/2010\"),\n      categorie: {\n        idCat: 2,\n        nomCat: \"Imprimante\"\n      }\n    }, {\n      idProduit: 3,\n      nomProduit: \"Tablette Samsung\",\n      prixProduit: 900.123,\n      dateCreation: new Date(\"02/20/2020\"),\n      categorie: {\n        idCat: 1,\n        nomCat: \"PC\"\n      }\n    }];\n  }\n  listeProduits() {\n    return this.produits;\n  }\n  ajouterProduit(prod) {\n    this.produits.push(prod);\n  }\n  supprimerProduit(prod) {\n    //supprimer le produit prod du tableau produits\n    const index = this.produits.indexOf(prod, 0);\n    if (index > -1) {\n      this.produits.splice(index, 1);\n    }\n    //ou Bien\n    /* this.produits.forEach((cur, index) => {\n    if(prod.idProduit === cur.idProduit) {\n    this.produits.splice(index, 1);\n    }\n    }); */\n  }\n\n  consulterProduit(id) {\n    return this.produits.find(p => p.idProduit == id);\n  }\n  trierProduits() {\n    this.produits = this.produits.sort((n1, n2) => {\n      if (n1.idProduit > n2.idProduit) {\n        return 1;\n      }\n      if (n1.idProduit < n2.idProduit) {\n        return -1;\n      }\n      return 0;\n    });\n  }\n  updateProduit(p) {\n    // console.log(p);\n    this.supprimerProduit(p);\n    this.ajouterProduit(p);\n    this.trierProduits();\n  }\n  listeCategories() {\n    return this.categories;\n  }\n  consulterCategorie(id) {\n    return this.categories.find(cat => cat.idCat == id);\n  }\n  static #_ = this.ɵfac = function ProduitService_Factory(t) {\n    return new (t || ProduitService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ProduitService,\n    factory: ProduitService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["ProduitService","constructor","categories","idCat","nomCat","produits","idProduit","nomProduit","prixProduit","dateCreation","Date","categorie","listeProduits","ajouterProduit","prod","push","supprimerProduit","index","indexOf","splice","consulterProduit","id","find","p","trierProduits","sort","n1","n2","updateProduit","listeCategories","consulterCategorie","cat","_","_2","factory","ɵfac","providedIn"],"sources":["C:\\Users\\betech.tn\\Desktop\\dsi\\angular\\MesProduits\\src\\app\\services\\produit.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Produit } from '../model/produit.model';\nimport { Categorie } from '../model/categorie.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProduitService {\n\n  produits : Produit[];\n  produit! : Produit;\n  categories! : Categorie[];\n\n  constructor() { \n\n    this.categories = [ {idCat : 1, nomCat : \"PC\"},\n                        {idCat : 2, nomCat : \"Imprimante\"}];\n\n    this.produits = [\n      { idProduit : 1, nomProduit : \"PC Asus\", prixProduit : 3000.600, dateCreation : new Date(\"01/14/2011\"), categorie : {idCat : 1, nomCat : \"PC\"}},\n      { idProduit : 2, nomProduit : \"Imprimante Epson\", prixProduit : 450, dateCreation : new Date(\"12/17/2010\"), categorie : {idCat : 2, nomCat : \"Imprimante\"}},\n      { idProduit : 3, nomProduit :\"Tablette Samsung\", prixProduit : 900.123, dateCreation : new Date(\"02/20/2020\"),categorie : {idCat : 1, nomCat : \"PC\"}}\n    ];\n  }\n\n  listeProduits():Produit[] {\n    return this.produits;\n  }\n  \n  ajouterProduit( prod: Produit){\n    this.produits.push(prod);\n  }\n\n  supprimerProduit( prod: Produit){\n    //supprimer le produit prod du tableau produits\n    const index = this.produits.indexOf(prod, 0);\n    if (index > -1) {\n    this.produits.splice(index, 1);\n    }\n    //ou Bien\n    /* this.produits.forEach((cur, index) => {\n    if(prod.idProduit === cur.idProduit) {\n    this.produits.splice(index, 1);\n    }\n    }); */\n    }\n\n\n    consulterProduit(id:number): Produit{\n      return this.produits.find(p => p.idProduit == id)!;\n          \n      }\n\n      trierProduits(){\n        this.produits = this.produits.sort((n1,n2) => {\n          if (n1.idProduit > n2.idProduit) {\n              return 1;\n          }\n         if (n1.idProduit < n2.idProduit) {\n              return -1;\n          }\n        return 0;\n      });\n      }\n  \n\n      updateProduit(p:Produit)\n      {\n      // console.log(p);\n        this.supprimerProduit(p);\n        this.ajouterProduit(p);\n        this.trierProduits();\n      }\n\n      listeCategories():Categorie[] {\n        return this.categories;\n      }\n        \n      consulterCategorie(id:number): Categorie{\n        return this.categories.find(cat => cat.idCat == id)!;\n      }\n}"],"mappings":";AAOA,OAAM,MAAOA,cAAc;EAMzBC,YAAA;IAEE,IAAI,CAACC,UAAU,GAAG,CAAE;MAACC,KAAK,EAAG,CAAC;MAAEC,MAAM,EAAG;IAAI,CAAC,EAC1B;MAACD,KAAK,EAAG,CAAC;MAAEC,MAAM,EAAG;IAAY,CAAC,CAAC;IAEvD,IAAI,CAACC,QAAQ,GAAG,CACd;MAAEC,SAAS,EAAG,CAAC;MAAEC,UAAU,EAAG,SAAS;MAAEC,WAAW,EAAG,QAAQ;MAAEC,YAAY,EAAG,IAAIC,IAAI,CAAC,YAAY,CAAC;MAAEC,SAAS,EAAG;QAACR,KAAK,EAAG,CAAC;QAAEC,MAAM,EAAG;MAAI;IAAC,CAAC,EAC/I;MAAEE,SAAS,EAAG,CAAC;MAAEC,UAAU,EAAG,kBAAkB;MAAEC,WAAW,EAAG,GAAG;MAAEC,YAAY,EAAG,IAAIC,IAAI,CAAC,YAAY,CAAC;MAAEC,SAAS,EAAG;QAACR,KAAK,EAAG,CAAC;QAAEC,MAAM,EAAG;MAAY;IAAC,CAAC,EAC3J;MAAEE,SAAS,EAAG,CAAC;MAAEC,UAAU,EAAE,kBAAkB;MAAEC,WAAW,EAAG,OAAO;MAAEC,YAAY,EAAG,IAAIC,IAAI,CAAC,YAAY,CAAC;MAACC,SAAS,EAAG;QAACR,KAAK,EAAG,CAAC;QAAEC,MAAM,EAAG;MAAI;IAAC,CAAC,CACtJ;EACH;EAEAQ,aAAaA,CAAA;IACX,OAAO,IAAI,CAACP,QAAQ;EACtB;EAEAQ,cAAcA,CAAEC,IAAa;IAC3B,IAAI,CAACT,QAAQ,CAACU,IAAI,CAACD,IAAI,CAAC;EAC1B;EAEAE,gBAAgBA,CAAEF,IAAa;IAC7B;IACA,MAAMG,KAAK,GAAG,IAAI,CAACZ,QAAQ,CAACa,OAAO,CAACJ,IAAI,EAAE,CAAC,CAAC;IAC5C,IAAIG,KAAK,GAAG,CAAC,CAAC,EAAE;MAChB,IAAI,CAACZ,QAAQ,CAACc,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;;IAE9B;IACA;;;;;EAKA;;EAGAG,gBAAgBA,CAACC,EAAS;IACxB,OAAO,IAAI,CAAChB,QAAQ,CAACiB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACjB,SAAS,IAAIe,EAAE,CAAE;EAElD;EAEAG,aAAaA,CAAA;IACX,IAAI,CAACnB,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACoB,IAAI,CAAC,CAACC,EAAE,EAACC,EAAE,KAAI;MAC3C,IAAID,EAAE,CAACpB,SAAS,GAAGqB,EAAE,CAACrB,SAAS,EAAE;QAC7B,OAAO,CAAC;;MAEb,IAAIoB,EAAE,CAACpB,SAAS,GAAGqB,EAAE,CAACrB,SAAS,EAAE;QAC5B,OAAO,CAAC,CAAC;;MAEf,OAAO,CAAC;IACV,CAAC,CAAC;EACF;EAGAsB,aAAaA,CAACL,CAAS;IAEvB;IACE,IAAI,CAACP,gBAAgB,CAACO,CAAC,CAAC;IACxB,IAAI,CAACV,cAAc,CAACU,CAAC,CAAC;IACtB,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAK,eAAeA,CAAA;IACb,OAAO,IAAI,CAAC3B,UAAU;EACxB;EAEA4B,kBAAkBA,CAACT,EAAS;IAC1B,OAAO,IAAI,CAACnB,UAAU,CAACoB,IAAI,CAACS,GAAG,IAAIA,GAAG,CAAC5B,KAAK,IAAIkB,EAAE,CAAE;EACtD;EAAC,QAAAW,CAAA,G;qBAzEMhC,cAAc;EAAA;EAAA,QAAAiC,EAAA,G;WAAdjC,cAAc;IAAAkC,OAAA,EAAdlC,cAAc,CAAAmC,IAAA;IAAAC,UAAA,EAFb;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}